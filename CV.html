<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title></title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta name="twitter:title" content="">
<meta name="twitter:creator" content="@bhanlam">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./publications.html" rel="" target="">
 <span class="menu-text"><i class="fa-solid fa-file-lines" aria-label="file-lines"></i> Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./CV.html" rel="" target="" aria-current="page">
 <span class="menu-text"><i class="fa-solid fa-address-card" aria-label="address-card"></i> Vitae</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#biography-fa-user-tie" id="toc-biography-fa-user-tie" class="nav-link active" data-scroll-target="#biography-fa-user-tie">Biography <i class="fa-solid fa-user-tie" aria-label="user-tie"></i></a></li>
  <li><a href="#education-fa-graduation-cap" id="toc-education-fa-graduation-cap" class="nav-link" data-scroll-target="#education-fa-graduation-cap">Education <i class="fa-solid fa-graduation-cap" aria-label="graduation-cap"></i></a></li>
  <li><a href="#experience-fa-business-time" id="toc-experience-fa-business-time" class="nav-link" data-scroll-target="#experience-fa-business-time">Experience <i class="fa-solid fa-business-time" aria-label="business-time"></i></a></li>
  <li><a href="#memberships-fa-id-card" id="toc-memberships-fa-id-card" class="nav-link" data-scroll-target="#memberships-fa-id-card">Memberships <i class="fa-solid fa-id-card" aria-label="id-card"></i></a></li>
  <li><a href="#editorial-peer-review-fa-magnifying-glass" id="toc-editorial-peer-review-fa-magnifying-glass" class="nav-link" data-scroll-target="#editorial-peer-review-fa-magnifying-glass">Editorial &amp; Peer Review <i class="fa-solid fa-magnifying-glass" aria-label="magnifying-glass"></i></a>
  <ul class="collapse">
  <li><a href="#editorial" id="toc-editorial" class="nav-link" data-scroll-target="#editorial">Editorial</a></li>
  <li><a href="#peer-review" id="toc-peer-review" class="nav-link" data-scroll-target="#peer-review">Peer review</a></li>
  </ul></li>
  <li><a href="#intellectual-property" id="toc-intellectual-property" class="nav-link" data-scroll-target="#intellectual-property">Intellectual Property</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/bhanlam/bhanlam.github.io/edit/main/CV.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/bhanlam/bhanlam.github.io/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">



<section id="biography-fa-user-tie" class="level2">
<h2 class="anchored" data-anchor-id="biography-fa-user-tie">Biography <i class="fa-solid fa-user-tie" aria-label="user-tie"></i></h2>
<div class="just-text">
<p><i class="fa-solid fa-quote-left" aria-label="quote-left"></i> <a href="./index.html"><strong>Dr.&nbsp;Bhan, Lam</strong></a> is a dedicated researcher and academic in the field of Electrical and Electronic Engineering. He completed his B.Eng. (Hons.) and Ph.D.&nbsp;degrees at the School of Electrical and Electronic Engineering, Nanyang Technological University, Singapore, in 2013 and 2019, respectively. He was awarded the NTU Research Scholarship and EEE Graduate Award, which supported his Ph.D.&nbsp;studies under the guidance of <a href="https://www3.ntu.edu.sg/home/ewsgan/">Prof.&nbsp;Woon-Seng Gan</a>.</p>
<p>During his Ph.D., Dr.&nbsp;Lam had the valuable opportunity to expand his research horizons as a visiting postgrad in the signal processing and control group at the Institute of Sound and Vibration Research, University of Southampton, UK. This international experience broadened his knowledge and perspective.</p>
<p>Dr.&nbsp;Lam’s contributions and expertise have been recognized on numerous occasions. He had the honor of being an invited representative at the 2020 Global Young Scientist Summit and also served as an invited tutorial speaker at APSIPA ASC 2020, where he shared his knowledge with fellow professionals. In 2021, he was appointed as a Research Assistant Professor at the School of Electrical and Electronic Engineering, NTU, Singapore.</p>
<p>Dr.&nbsp;Lam’s research focuses on acoustics, soundscape, and signal processing for active control. He has contributed to the field with more than <a href="./publications.html">70</a> refereed journal articles and conference papers. Notably, his work on anti-noise windows was patented (WO2022055432) and recognized as a top-100 paper in Nature Scientific Reports in 2020.</p>
<p>Dr.&nbsp;Lam’s dedication to the advancement of his field is evident through his involvement as a guest editor with the <a href="https://pubs.aip.org/asa/jasa/pages/cfp030223">Journal of the Acoustical Society of America</a>, <a href="https://pubs.aip.org/asa/jasa/pages/cfp030223">Sustainability</a>, and served as a special session co-chair in the 2022 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP). He is currently in the National Mirror Committee of ISO TC43/SC1/WG54 on “Perceptual assessment of soundscape quality”. His current research interests include active noise control, soundscape, and signal processing for active control. <i class="fa-solid fa-quote-right" aria-label="quote-right"></i></p>
</div>
</section>
<section id="education-fa-graduation-cap" class="level2">
<h2 class="anchored" data-anchor-id="education-fa-graduation-cap">Education <i class="fa-solid fa-graduation-cap" aria-label="graduation-cap"></i></h2>
<ul>
<li><p><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>Doctor of Philosophy (Electrical &amp; Electronic Engineering)</strong> | <strong>Nanyang Technological University</strong> | 2019</p></li>
<li><p>Awarded NTU Research Scholarship &amp; EEE graduate award. The PhD thesis investigated active noise control systems for open windows.</p></li>
<li><p><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>Bachelor of Engineering (Information Engineering &amp; Media)</strong> | <strong>Nanyang Technological University</strong> | 2013</p></li>
<li><p>Obtained Honours (Distinction) in a multi-disciplinary degree.</p></li>
<li><p><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>Visiting Postgrad</strong> | <strong>Institute of Sound &amp; Vibration Research, University of Southampton, SO, UK</strong> | Jan – Jul 2015 Mentored by Prof.&nbsp;Stephen J. Elliott. Researched on the acoustic diffraction effects of sound waves through open windows, resulting in 2 journal and 3 conference publications.</p></li>
</ul>
</section>
<section id="experience-fa-business-time" class="level2">
<h2 class="anchored" data-anchor-id="experience-fa-business-time">Experience <i class="fa-solid fa-business-time" aria-label="business-time"></i></h2>
<ul>
<li><p><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>Research Fellow → Research Assistant Professor</strong> | <strong>Nanyang Technological University</strong> | 2019 – present</p></li>
<li><p>Lead researcher in designing the internet-of-things based soundscape monitoring and augmentation system for outdoor recreational spaces. Also, aiding the research effort on a scalable active noise control system to mitigate low-frequency urban transportation noise through domestic windows and construction machinery.</p></li>
<li><p><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>Consultancy</strong> | 2020 – present</p></li>
<li><p>Completed consultancy projects on active noise control with Amazon Inc.&nbsp;and SAV Group (real estate).</p></li>
<li><p>Ongoing projects:</p>
<ul>
<li><i class="fa-solid fa-angles-right" aria-label="angles-right"></i> Housing and Development Board, China Construction (South Pacific) Development Co, and Kay Lim Holdings: develop a portable ANC system for construction machinery,</li>
<li><i class="fa-solid fa-angles-right" aria-label="angles-right"></i> Home Team Science and Technology Agency: wayfinding in low visibility with spatial audio cues.</li>
</ul></li>
</ul>
</section>
<section id="memberships-fa-id-card" class="level2">
<h2 class="anchored" data-anchor-id="memberships-fa-id-card">Memberships <i class="fa-solid fa-id-card" aria-label="id-card"></i></h2>
<ul>
<li><p><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>National Mirror Committee (ISO/TC43/SC1/WG54)</strong> | <strong>Singapore Standards Council</strong> | 2022 – present Spearheaded and currently leading the involvement of Singapore in the development of the ISO 12913 series of standards on soundscape.</p></li>
<li><p><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>Member</strong> | <strong>IEEE</strong> | 2018 – present Graduate student member in 2018 and subsequently a member in 2019 - present.</p></li>
</ul>
</section>
<section id="editorial-peer-review-fa-magnifying-glass" class="level2">
<h2 class="anchored" data-anchor-id="editorial-peer-review-fa-magnifying-glass">Editorial &amp; Peer Review <i class="fa-solid fa-magnifying-glass" aria-label="magnifying-glass"></i></h2>
<section id="editorial" class="level3">
<h3 class="anchored" data-anchor-id="editorial">Editorial</h3>
<ul>
<li><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>Guest Editor</strong> | <strong>Journal of the Acoustical Society of America</strong> | 2023 - present</li>
<li><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>Guest Editor</strong> | <strong>Sustainability</strong> | 2021 – 2023</li>
</ul>
</section>
<section id="peer-review" class="level3">
<h3 class="anchored" data-anchor-id="peer-review">Peer review</h3>
<ul>
<li>Verified peer reviews: 100</li>
</ul>
</section>
</section>
<section id="intellectual-property" class="level2">
<h2 class="anchored" data-anchor-id="intellectual-property">Intellectual Property</h2>
<ul>
<li><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>Noise Cancellation Device Fitted On Openable Façade Openings</strong> | 11202261452U | Singapore (National Phase Entry from PCT Application No: PCT/SG2021/050549) | 10 Sep 2021</li>
<li><i class="fa-solid fa-circle-notch" aria-label="circle-notch"></i> <strong>A System And Method For Automatic Augmentation Of Soundscapes</strong> | 10202204451S | PCT Application No: PCT/SG2023/050289 | 10 Sep 2021</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>